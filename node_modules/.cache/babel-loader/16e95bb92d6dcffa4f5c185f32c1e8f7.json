{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"react\")) : \"function\" == typeof define && define.amd ? define([\"react\"], t) : \"object\" == typeof exports ? exports.ReactWhiteboard = t(require(\"react\")) : e.ReactWhiteboard = t(e.react);\n}(window, function (e) {\n  return function (e) {\n    var t = {};\n\n    function n(r) {\n      if (t[r]) return t[r].exports;\n      var i = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, r) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var i in e) n.d(r, i, function (t) {\n        return e[t];\n      }.bind(null, i));\n      return r;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 2);\n  }([function (t, n) {\n    t.exports = e;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r,\n        i = \"object\" == typeof Reflect ? Reflect : null,\n        o = i && \"function\" == typeof i.apply ? i.apply : function (e, t, n) {\n      return Function.prototype.apply.call(e, t, n);\n    };\n    r = i && \"function\" == typeof i.ownKeys ? i.ownKeys : Object.getOwnPropertySymbols ? function (e) {\n      return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));\n    } : function (e) {\n      return Object.getOwnPropertyNames(e);\n    };\n\n    var s = Number.isNaN || function (e) {\n      return e != e;\n    };\n\n    function a() {\n      a.init.call(this);\n    }\n\n    e.exports = a, a.EventEmitter = a, a.prototype._events = void 0, a.prototype._eventsCount = 0, a.prototype._maxListeners = void 0;\n    var u = 10;\n\n    function h(e) {\n      return void 0 === e._maxListeners ? a.defaultMaxListeners : e._maxListeners;\n    }\n\n    function l(e, t, n, r) {\n      var i, o, s, a;\n      if (\"function\" != typeof n) throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof n);\n      if (void 0 === (o = e._events) ? (o = e._events = Object.create(null), e._eventsCount = 0) : (void 0 !== o.newListener && (e.emit(\"newListener\", t, n.listener ? n.listener : n), o = e._events), s = o[t]), void 0 === s) s = o[t] = n, ++e._eventsCount;else if (\"function\" == typeof s ? s = o[t] = r ? [n, s] : [s, n] : r ? s.unshift(n) : s.push(n), (i = h(e)) > 0 && s.length > i && !s.warned) {\n        s.warned = !0;\n        var u = new Error(\"Possible EventEmitter memory leak detected. \" + s.length + \" \" + String(t) + \" listeners added. Use emitter.setMaxListeners() to increase limit\");\n        u.name = \"MaxListenersExceededWarning\", u.emitter = e, u.type = t, u.count = s.length, a = u, console && console.warn && console.warn(a);\n      }\n      return e;\n    }\n\n    function p(e, t, n) {\n      var r = {\n        fired: !1,\n        wrapFn: void 0,\n        target: e,\n        type: t,\n        listener: n\n      },\n          i = function () {\n        for (var e = [], t = 0; t < arguments.length; t++) e.push(arguments[t]);\n\n        this.fired || (this.target.removeListener(this.type, this.wrapFn), this.fired = !0, o(this.listener, this.target, e));\n      }.bind(r);\n\n      return i.listener = n, r.wrapFn = i, i;\n    }\n\n    function f(e, t, n) {\n      var r = e._events;\n      if (void 0 === r) return [];\n      var i = r[t];\n      return void 0 === i ? [] : \"function\" == typeof i ? n ? [i.listener || i] : [i] : n ? function (e) {\n        for (var t = new Array(e.length), n = 0; n < t.length; ++n) t[n] = e[n].listener || e[n];\n\n        return t;\n      }(i) : v(i, i.length);\n    }\n\n    function c(e) {\n      var t = this._events;\n\n      if (void 0 !== t) {\n        var n = t[e];\n        if (\"function\" == typeof n) return 1;\n        if (void 0 !== n) return n.length;\n      }\n\n      return 0;\n    }\n\n    function v(e, t) {\n      for (var n = new Array(t), r = 0; r < t; ++r) n[r] = e[r];\n\n      return n;\n    }\n\n    Object.defineProperty(a, \"defaultMaxListeners\", {\n      enumerable: !0,\n      get: function () {\n        return u;\n      },\n      set: function (e) {\n        if (\"number\" != typeof e || e < 0 || s(e)) throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + e + \".\");\n        u = e;\n      }\n    }), a.init = function () {\n      void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;\n    }, a.prototype.setMaxListeners = function (e) {\n      if (\"number\" != typeof e || e < 0 || s(e)) throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + e + \".\");\n      return this._maxListeners = e, this;\n    }, a.prototype.getMaxListeners = function () {\n      return h(this);\n    }, a.prototype.emit = function (e) {\n      for (var t = [], n = 1; n < arguments.length; n++) t.push(arguments[n]);\n\n      var r = \"error\" === e,\n          i = this._events;\n      if (void 0 !== i) r = r && void 0 === i.error;else if (!r) return !1;\n\n      if (r) {\n        var s;\n        if (t.length > 0 && (s = t[0]), s instanceof Error) throw s;\n        var a = new Error(\"Unhandled error.\" + (s ? \" (\" + s.message + \")\" : \"\"));\n        throw a.context = s, a;\n      }\n\n      var u = i[e];\n      if (void 0 === u) return !1;\n      if (\"function\" == typeof u) o(u, this, t);else {\n        var h = u.length,\n            l = v(u, h);\n\n        for (n = 0; n < h; ++n) o(l[n], this, t);\n      }\n      return !0;\n    }, a.prototype.addListener = function (e, t) {\n      return l(this, e, t, !1);\n    }, a.prototype.on = a.prototype.addListener, a.prototype.prependListener = function (e, t) {\n      return l(this, e, t, !0);\n    }, a.prototype.once = function (e, t) {\n      if (\"function\" != typeof t) throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof t);\n      return this.on(e, p(this, e, t)), this;\n    }, a.prototype.prependOnceListener = function (e, t) {\n      if (\"function\" != typeof t) throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof t);\n      return this.prependListener(e, p(this, e, t)), this;\n    }, a.prototype.removeListener = function (e, t) {\n      var n, r, i, o, s;\n      if (\"function\" != typeof t) throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof t);\n      if (void 0 === (r = this._events)) return this;\n      if (void 0 === (n = r[e])) return this;\n      if (n === t || n.listener === t) 0 == --this._eventsCount ? this._events = Object.create(null) : (delete r[e], r.removeListener && this.emit(\"removeListener\", e, n.listener || t));else if (\"function\" != typeof n) {\n        for (i = -1, o = n.length - 1; o >= 0; o--) if (n[o] === t || n[o].listener === t) {\n          s = n[o].listener, i = o;\n          break;\n        }\n\n        if (i < 0) return this;\n        0 === i ? n.shift() : function (e, t) {\n          for (; t + 1 < e.length; t++) e[t] = e[t + 1];\n\n          e.pop();\n        }(n, i), 1 === n.length && (r[e] = n[0]), void 0 !== r.removeListener && this.emit(\"removeListener\", e, s || t);\n      }\n      return this;\n    }, a.prototype.off = a.prototype.removeListener, a.prototype.removeAllListeners = function (e) {\n      var t, n, r;\n      if (void 0 === (n = this._events)) return this;\n      if (void 0 === n.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== n[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[e]), this;\n\n      if (0 === arguments.length) {\n        var i,\n            o = Object.keys(n);\n\n        for (r = 0; r < o.length; ++r) \"removeListener\" !== (i = o[r]) && this.removeAllListeners(i);\n\n        return this.removeAllListeners(\"removeListener\"), this._events = Object.create(null), this._eventsCount = 0, this;\n      }\n\n      if (\"function\" == typeof (t = n[e])) this.removeListener(e, t);else if (void 0 !== t) for (r = t.length - 1; r >= 0; r--) this.removeListener(e, t[r]);\n      return this;\n    }, a.prototype.listeners = function (e) {\n      return f(this, e, !0);\n    }, a.prototype.rawListeners = function (e) {\n      return f(this, e, !1);\n    }, a.listenerCount = function (e, t) {\n      return \"function\" == typeof e.listenerCount ? e.listenerCount(t) : c.call(e, t);\n    }, a.prototype.listenerCount = c, a.prototype.eventNames = function () {\n      return this._eventsCount > 0 ? r(this._events) : [];\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t);\n    var r = {};\n    n.r(r), n.d(r, \"MODE\", function () {\n      return i;\n    }), n.d(r, \"SVG_ELEMENT_TYPE\", function () {\n      return o;\n    });\n    var i = {\n      HAND: \"HAND\",\n      DRAW_LINE: \"DRAW_LINE\",\n      DRAG_IMAGE: \"DRAG_IMAGE\",\n      NW_RESIZE_IMAGE: \"NW_RESIZE_IMAGE\",\n      NE_RESIZE_IMAGE: \"NE_RESIZE_IMAGE\",\n      SE_RESIZE_IMAGE: \"SE_RESIZE_IMAGE\",\n      SW_RESIZE_IMAGE: \"SW_RESIZE_IMAGE\"\n    },\n        o = {\n      LINE: \"LINE\",\n      IMAGE: \"IMAGE\"\n    },\n        s = n(0),\n        a = n.n(s),\n        u = n(1),\n        h = n.n(u);\n\n    function l(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var p = function () {\n      function e() {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.emitter = new h.a();\n      }\n\n      var t, n, r;\n      return t = e, (n = [{\n        key: \"on\",\n        value: function (e, t) {\n          this.emitter.on(e, t);\n        }\n      }, {\n        key: \"selectLayer\",\n        value: function (e) {\n          this.emitter.emit(\"selectLayer\", e);\n        }\n      }, {\n        key: \"addLayer\",\n        value: function () {\n          this.emitter.emit(\"addLayer\");\n        }\n      }, {\n        key: \"startDrawing\",\n        value: function (e, t) {\n          this.emitter.emit(\"start\", {\n            x: e,\n            y: t\n          });\n        }\n      }, {\n        key: \"stopDrawing\",\n        value: function () {\n          this.emitter.emit(\"stop\");\n        }\n      }, {\n        key: \"changeStrokeWidth\",\n        value: function (e) {\n          var t = {\n            key: \"strokeWidth\",\n            value: e\n          };\n          this.emitter.emit(\"set\", t);\n        }\n      }, {\n        key: \"changeStrokeColor\",\n        value: function (e) {\n          var t = {\n            key: \"strokeColor\",\n            value: e\n          };\n          this.emitter.emit(\"set\", t);\n        }\n      }, {\n        key: \"pushPoint\",\n        value: function (e, t) {\n          var n = {\n            x: e,\n            y: t\n          };\n          this.emitter.emit(\"push\", n);\n        }\n      }, {\n        key: \"pasteImage\",\n        value: function (e, t, n, r, i) {\n          var o = {\n            x: e,\n            y: t,\n            width: n,\n            height: r,\n            dataUrl: i\n          };\n          this.emitter.emit(\"paste\", o);\n        }\n      }, {\n        key: \"startDragging\",\n        value: function () {\n          this.emitter.emit(\"startDragging\");\n        }\n      }, {\n        key: \"stopDragging\",\n        value: function () {\n          this.emitter.emit(\"stopDragging\");\n        }\n      }, {\n        key: \"dragImage\",\n        value: function (e, t) {\n          var n = {\n            x: e,\n            y: t\n          };\n          this.emitter.emit(\"drag\", n);\n        }\n      }, {\n        key: \"startResizing\",\n        value: function (e) {\n          this.emitter.emit(\"startResizing\", e);\n        }\n      }, {\n        key: \"stopResizing\",\n        value: function () {\n          this.emitter.emit(\"stopResizing\");\n        }\n      }, {\n        key: \"resizeImage\",\n        value: function (e, t) {\n          var n = {\n            x: e,\n            y: t\n          };\n          this.emitter.emit(\"resize\", n);\n        }\n      }, {\n        key: \"undo\",\n        value: function () {\n          this.emitter.emit(\"undo\");\n        }\n      }, {\n        key: \"redo\",\n        value: function () {\n          this.emitter.emit(\"redo\");\n        }\n      }, {\n        key: \"clear\",\n        value: function () {\n          this.emitter.emit(\"clear\");\n        }\n      }]) && l(t.prototype, n), r && l(t, r), e;\n    }();\n\n    function f(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var c = function () {\n      function e() {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.selectedLayer = 0, this.renderableLayers = [!0], this.goodEvents = [], this.undoEvents = [];\n      }\n\n      var t, n, r;\n      return t = e, (n = [{\n        key: \"lastImage\",\n        value: function () {\n          var e = this.goodEvents[this.goodEvents.length - 1];\n          return e && e.type === o.IMAGE ? e.image : null;\n        }\n      }, {\n        key: \"reduceEvents\",\n        value: function () {\n          var e = this;\n          return this.goodEvents.reduce(function (e, t) {\n            if (!t.type) return e.forEach(function (e) {\n              e.push({});\n            }), e;\n\n            if (t.type === o.LINE) {\n              var n = e[t.layer][e[t.layer].length - 1];\n              if (n && n.type === o.LINE && n.strokeWidth === t.strokeWidth && n.strokeColor === t.strokeColor) n.values.push(t.point);else {\n                var r = {\n                  type: t.type,\n                  strokeWidth: t.strokeWidth,\n                  strokeColor: t.strokeColor,\n                  values: [t.point]\n                };\n                e[t.layer].push(r);\n              }\n              return e;\n            }\n\n            if (t.type === o.IMAGE) {\n              var i = {\n                type: t.type,\n                image: t.image\n              };\n              return e[t.layer].push(i), e;\n            }\n\n            return e;\n          }, this.renderableLayers.map(function () {\n            return [];\n          })).filter(function (t, n) {\n            return e.renderableLayers[n];\n          }).reduce(function (e, t) {\n            return e.concat(t);\n          }, []).filter(function (e) {\n            return e.type === o.LINE ? e.values.length > 1 : (e.type, o.IMAGE, !0);\n          });\n        }\n      }, {\n        key: \"selectLayer\",\n        value: function (e) {\n          this.goodEvents.push({}), this.selectedLayer = e;\n        }\n      }, {\n        key: \"addLayer\",\n        value: function () {\n          this.renderableLayers.push(!0);\n        }\n      }, {\n        key: \"startDrawing\",\n        value: function (e, t, n) {\n          this.goodEvents.push({\n            type: o.LINE,\n            layer: this.selectedLayer,\n            strokeWidth: e,\n            strokeColor: t,\n            point: n\n          });\n        }\n      }, {\n        key: \"stopDrawing\",\n        value: function () {\n          this.goodEvents.push({});\n        }\n      }, {\n        key: \"pushPoint\",\n        value: function (e, t, n) {\n          var r = {\n            type: o.LINE,\n            layer: this.selectedLayer,\n            strokeWidth: e,\n            strokeColor: t,\n            point: n\n          };\n          this.goodEvents.push(r), this.undoEvents = [];\n        }\n      }, {\n        key: \"pasteImage\",\n        value: function (e) {\n          var t = {\n            type: o.IMAGE,\n            layer: this.selectedLayer,\n            image: e\n          };\n          this.goodEvents.push(t), this.undoEvents = [];\n        }\n      }, {\n        key: \"dragImage\",\n        value: function (e) {\n          var t = this.lastImage();\n          t && (t.x = t.x + e.x, t.y = t.y + e.y);\n        }\n      }, {\n        key: \"nwResizeImage\",\n        value: function (e) {\n          var t = this.lastImage();\n          t && (t.x = t.x + e.x, t.y = t.y + e.y, t.width = t.width - e.x, t.height = t.height - e.y);\n        }\n      }, {\n        key: \"neResizeImage\",\n        value: function (e) {\n          var t = this.lastImage();\n          t && (t.y = t.y + e.y, t.width = t.width + e.x, t.height = t.height - e.y);\n        }\n      }, {\n        key: \"seResizeImage\",\n        value: function (e) {\n          var t = this.lastImage();\n          t && (t.width = t.width + e.x, t.height = t.height + e.y);\n        }\n      }, {\n        key: \"swResizeImage\",\n        value: function (e) {\n          var t = this.lastImage();\n          t && (t.x = t.x + e.x, t.width = t.width - e.x, t.height = t.height + e.y);\n        }\n      }, {\n        key: \"undo\",\n        value: function () {\n          this.goodEvents.length && (this.undoEvents.push(this.goodEvents.pop()), this.undoEvents.push(this.goodEvents.pop()), this.goodEvents.push({}));\n        }\n      }, {\n        key: \"redo\",\n        value: function () {\n          this.undoEvents.length && (this.goodEvents.pop(), this.goodEvents.push(this.undoEvents.pop()), this.goodEvents.push(this.undoEvents.pop()));\n        }\n      }, {\n        key: \"clear\",\n        value: function () {\n          this.goodEvents = [], this.undoEvents = [];\n        }\n      }]) && f(t.prototype, n), r && f(t, r), e;\n    }();\n\n    function v(e) {\n      return (v = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function d(e) {\n      return function (e) {\n        if (Array.isArray(e)) {\n          for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];\n\n          return n;\n        }\n      }(e) || function (e) {\n        if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n      }(e) || function () {\n        throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n      }();\n    }\n\n    function y(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function g(e, t) {\n      return !t || \"object\" !== v(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function m(e) {\n      return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function E(e, t) {\n      return (E = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var b = function (e) {\n      function t(e) {\n        var n;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (n = g(this, m(t).call(this, e))).state = {\n          dragStart: null,\n          resizeStart: null\n        }, n;\n      }\n\n      var n, r, o;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && E(e, t);\n      }(t, a.a.Component), n = t, (r = [{\n        key: \"onClickCursorLayer\",\n        value: function (e) {\n          var t,\n              n = this;\n          this.props.mode === i.HAND ? (t = this.props.events).startDrawing.apply(t, d(function (e) {\n            return [e.nativeEvent.offsetX - 2, e.nativeEvent.offsetY + n.props.strokeWidth / 3 * 2];\n          }(e))) : this.props.events.stopDrawing();\n        }\n      }, {\n        key: \"onMouseMoveCursorLayer\",\n        value: function (e) {\n          var t,\n              n = this;\n          if (this.props.mode === i.DRAW_LINE) (t = this.props.events).pushPoint.apply(t, d(function (e) {\n            return [e.nativeEvent.offsetX - 2, e.nativeEvent.offsetY + n.props.strokeWidth / 3 * 2];\n          }(e)));else if (this.props.mode === i.DRAG_IMAGE) {\n            if (e.target !== this.dragHandle) return;\n            var r = this.props.eventStore.lastImage();\n            if (!r) return;\n\n            if (this.state.dragStart) {\n              var o = r.width < r.height ? r.width : r.height,\n                  s = o / 8 < 20 ? Math.ceil(o / 8) : 20,\n                  a = r.x + s < 0 ? e.nativeEvent.offsetX - this.state.dragStart.x - (r.x + s) : e.nativeEvent.offsetX - this.state.dragStart.x,\n                  u = r.y + s < 0 ? e.nativeEvent.offsetY - this.state.dragStart.y - (r.y + s) : e.nativeEvent.offsetY - this.state.dragStart.y;\n              this.props.events.dragImage(a, u);\n            }\n          } else if (this.props.mode === i.NW_RESIZE_IMAGE || this.props.mode === i.NE_RESIZE_IMAGE || this.props.mode === i.SE_RESIZE_IMAGE || this.props.mode === i.SW_RESIZE_IMAGE) {\n            var h = this.props.eventStore.lastImage();\n            if (!h) return;\n\n            if (this.state.resizeStart) {\n              var l = e.pageX - this.state.resizeStart.x,\n                  p = e.pageY - this.state.resizeStart.y;\n              if (this.props.mode === i.NW_RESIZE_IMAGE && (h.width - l < 0 || h.height - p < 0)) return;\n              if (this.props.mode === i.NE_RESIZE_IMAGE && (h.width + l < 0 || h.height - p < 0)) return;\n              if (this.props.mode === i.SE_RESIZE_IMAGE && (h.width + l < 0 || h.height + p < 0)) return;\n              if (this.props.mode === i.SW_RESIZE_IMAGE && (h.width - l < 0 || h.height + p < 0)) return;\n              this.setState({\n                resizeStart: {\n                  x: e.pageX,\n                  y: e.pageY\n                }\n              }), this.props.events.resizeImage(l, p);\n            }\n          }\n        }\n      }, {\n        key: \"onClickDragHandle\",\n        value: function (e) {\n          this.props.mode === i.HAND ? (this.setState({\n            dragStart: {\n              x: e.nativeEvent.offsetX,\n              y: e.nativeEvent.offsetY\n            }\n          }), this.props.events.startDragging()) : (this.setState({\n            dragStart: null\n          }), this.props.events.stopDragging()), e.preventDefault(), e.stopPropagation();\n        }\n      }, {\n        key: \"onClickResizeHandle\",\n        value: function (e, t) {\n          this.props.mode === i.HAND ? (this.setState({\n            resizeStart: {\n              x: t.pageX,\n              y: t.pageY\n            }\n          }), this.props.events.startResizing(e)) : (this.setState({\n            resizeStart: null\n          }), this.props.events.stopResizing()), t.preventDefault(), t.stopPropagation();\n        }\n      }, {\n        key: \"render\",\n        value: function () {\n          var e = {\n            position: \"absolute\",\n            zIndex: 2e3,\n            width: this.props.width,\n            height: this.props.height,\n            borderStyle: \"none none solid none\",\n            borderColor: this.props.strokeColor\n          };\n          return a.a.createElement(\"div\", {\n            role: \"presentation\",\n            style: e,\n            onClick: this.onClickCursorLayer.bind(this),\n            onMouseMove: this.onMouseMoveCursorLayer.bind(this)\n          }, this.renderImageHandle());\n        }\n      }, {\n        key: \"renderImageHandle\",\n        value: function () {\n          var e = this,\n              t = this.props.eventStore.lastImage();\n          if (!t) return null;\n\n          var n = t.width < t.height ? t.width : t.height,\n              r = n / 8 < 20 ? Math.ceil(n / 8) : 20,\n              o = function (e, t, n) {\n            return n < e ? e : n > t ? t : n;\n          },\n              s = o(0, this.props.height, t.y + r),\n              u = o(0, this.props.height, t.y + t.height - r),\n              h = o(0, this.props.width, t.x + r),\n              l = o(0, this.props.width, t.x + t.width - r),\n              p = {\n            position: \"absolute\",\n            zIndex: 2500,\n            top: s,\n            left: h,\n            width: l - h,\n            height: u - s,\n            cursor: \"move\"\n          },\n              f = {\n            position: \"absolute\",\n            zIndex: 2500,\n            top: o(0, this.props.height, s - r),\n            left: o(0, this.props.width, h - r),\n            width: h - o(0, this.props.width, h - r),\n            height: s - o(0, this.props.height, s - r),\n            cursor: \"nw-resize\"\n          },\n              c = {\n            position: \"absolute\",\n            zIndex: 2500,\n            top: o(0, this.props.height, s - r),\n            left: l,\n            width: o(0, this.props.width, l + r) - l,\n            height: s - o(0, this.props.height, s - r),\n            cursor: \"ne-resize\"\n          },\n              v = {\n            position: \"absolute\",\n            zIndex: 2500,\n            top: u,\n            left: l,\n            width: o(0, this.props.width, l + r) - l,\n            height: o(0, this.props.height, u + r) - u,\n            cursor: \"se-resize\"\n          },\n              d = {\n            position: \"absolute\",\n            zIndex: 2500,\n            top: u,\n            left: o(0, this.props.width, h - r),\n            width: h - o(0, this.props.width, h - r),\n            height: o(0, this.props.height, u + r) - u,\n            cursor: \"sw-resize\"\n          };\n\n          return [a.a.createElement(\"div\", {\n            key: \"drag\",\n            role: \"presentation\",\n            style: p,\n            ref: function (t) {\n              return e.dragHandle = t;\n            },\n            onClick: this.onClickDragHandle.bind(this)\n          }), a.a.createElement(\"div\", {\n            key: \"nw-resize\",\n            role: \"presentation\",\n            style: f,\n            onClick: this.onClickResizeHandle.bind(this, i.NW_RESIZE_IMAGE)\n          }), a.a.createElement(\"div\", {\n            key: \"ne-resize\",\n            role: \"presentation\",\n            style: c,\n            onClick: this.onClickResizeHandle.bind(this, i.NE_RESIZE_IMAGE)\n          }), a.a.createElement(\"div\", {\n            key: \"se-resize\",\n            role: \"presentation\",\n            style: v,\n            onClick: this.onClickResizeHandle.bind(this, i.SE_RESIZE_IMAGE)\n          }), a.a.createElement(\"div\", {\n            key: \"sw-resize\",\n            role: \"presentation\",\n            style: d,\n            onClick: this.onClickResizeHandle.bind(this, i.SW_RESIZE_IMAGE)\n          })];\n        }\n      }]) && y(n.prototype, r), o && y(n, o), t;\n    }();\n\n    function w(e) {\n      return (w = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function S(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function k(e, t) {\n      return !t || \"object\" !== w(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function I(e) {\n      return (I = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function _(e, t) {\n      return (_ = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var L = function (e) {\n      function t(e) {\n        var n;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (n = k(this, I(t).call(this, e))).svgElement = null, n;\n      }\n\n      var n, r, i;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && _(e, t);\n      }(t, a.a.Component), n = t, (r = [{\n        key: \"getSvgElement\",\n        value: function () {\n          return this.svgElement;\n        }\n      }, {\n        key: \"render\",\n        value: function () {\n          var e = this,\n              t = {\n            position: \"absolute\",\n            width: this.props.width,\n            height: this.props.height\n          };\n          return a.a.createElement(\"div\", {\n            style: t\n          }, a.a.createElement(\"svg\", {\n            ref: function (t) {\n              return e.svgElement = t;\n            },\n            version: \"1.1\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n            width: this.props.width,\n            height: this.props.height\n          }, a.a.createElement(\"rect\", {\n            width: \"100%\",\n            height: \"100%\",\n            fill: this.props.style.backgroundColor\n          }), this.drawWhiteboardCanvas(), this.drawImageBorder()));\n        }\n      }, {\n        key: \"drawWhiteboardCanvas\",\n        value: function () {\n          return this.props.eventStore.reduceEvents().map(function (e, t) {\n            if (e.type === o.LINE) {\n              var n = t,\n                  r = e.values.map(function (e, t) {\n                return 0 === t ? \"M \" + e.x + \" \" + e.y : \"L \" + e.x + \" \" + e.y;\n              });\n              return a.a.createElement(\"path\", {\n                key: n,\n                d: r.join(\" \"),\n                fill: \"none\",\n                stroke: e.strokeColor,\n                strokeWidth: e.strokeWidth\n              });\n            }\n\n            if (e.type === o.IMAGE) {\n              var i = t,\n                  s = e.image;\n              return a.a.createElement(\"image\", {\n                key: i,\n                x: s.x,\n                y: s.y,\n                width: s.width,\n                height: s.height,\n                xlinkHref: s.dataUrl\n              });\n            }\n\n            return null;\n          });\n        }\n      }, {\n        key: \"drawImageBorder\",\n        value: function () {\n          var e = this.props.eventStore.lastImage();\n          return e ? a.a.createElement(\"rect\", {\n            x: e.x,\n            y: e.y,\n            width: e.width,\n            height: e.height,\n            fill: \"none\",\n            stroke: \"black\",\n            strokeDasharray: \"5,5\"\n          }) : null;\n        }\n      }]) && S(n.prototype, r), i && S(n, i), t;\n    }();\n\n    function x(e) {\n      return (x = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function R() {\n      return (R = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = arguments[t];\n\n          for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n        }\n\n        return e;\n      }).apply(this, arguments);\n    }\n\n    function C(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function O(e, t) {\n      return !t || \"object\" !== x(t) && \"function\" != typeof t ? function (e) {\n        if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        return e;\n      }(e) : t;\n    }\n\n    function A(e) {\n      return (A = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function D(e, t) {\n      return (D = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var M = function (e) {\n      function t(e) {\n        var n;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), (n = O(this, A(t).call(this, e))).state = {\n          eventStore: e.eventStore,\n          mode: i.HAND,\n          layer: 0,\n          strokeWidth: 5,\n          strokeColor: \"black\"\n        }, n.canvas = null, n;\n      }\n\n      var n, r, o;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && D(e, t);\n      }(t, a.a.Component), n = t, (r = [{\n        key: \"getSvgElement\",\n        value: function () {\n          if (this.canvas) return this.canvas.getSvgElement();\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function () {\n          this.setupEventHandler();\n        }\n      }, {\n        key: \"setupEventHandler\",\n        value: function () {\n          var e = this;\n          this.props.events.on(\"selectLayer\", this.selectLayer.bind(this)), this.props.events.on(\"addLayer\", this.addLayer.bind(this)), this.props.events.on(\"start\", this.startDrawing.bind(this)), this.props.events.on(\"stop\", this.stopDrawing.bind(this)), this.props.events.on(\"set\", function (t) {\n            \"strokeWidth\" === t.key && e.changeStrokeWidth(t.value), \"strokeColor\" === t.key && e.changeStrokeColor(t.value);\n          }), this.props.events.on(\"push\", this.pushPoint.bind(this)), this.props.events.on(\"paste\", this.pasteImage.bind(this)), this.props.events.on(\"startDragging\", this.startDragging.bind(this)), this.props.events.on(\"stopDragging\", this.stopDragging.bind(this)), this.props.events.on(\"drag\", this.dragImage.bind(this)), this.props.events.on(\"startResizing\", this.startResizing.bind(this)), this.props.events.on(\"stopResizing\", this.stopResizing.bind(this)), this.props.events.on(\"resize\", this.resizeImage.bind(this)), this.props.events.on(\"undo\", this.undo.bind(this)), this.props.events.on(\"redo\", this.redo.bind(this)), this.props.events.on(\"clear\", this.clear.bind(this));\n        }\n      }, {\n        key: \"selectLayer\",\n        value: function (e) {\n          this.state.eventStore.selectLayer(e), this.setState({\n            layer: e,\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"addLayer\",\n        value: function () {\n          this.state.eventStore.addLayer(), this.setState({\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"startDrawing\",\n        value: function (e) {\n          this.state.eventStore.startDrawing(this.state.strokeWidth, this.state.strokeColor, e), this.setState({\n            mode: i.DRAW_LINE,\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"stopDrawing\",\n        value: function () {\n          this.state.eventStore.stopDrawing(), this.setState({\n            mode: i.HAND,\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"changeStrokeWidth\",\n        value: function (e) {\n          this.state.eventStore.stopDrawing(), this.setState({\n            strokeWidth: e,\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"changeStrokeColor\",\n        value: function (e) {\n          this.state.eventStore.stopDrawing(), this.setState({\n            strokeColor: e,\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"pushPoint\",\n        value: function (e) {\n          this.state.eventStore.pushPoint(this.state.strokeWidth, this.state.strokeColor, e), this.setState({\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"pasteImage\",\n        value: function (e) {\n          this.state.eventStore.pasteImage(e), this.setState({\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"startDragging\",\n        value: function () {\n          this.setState({\n            mode: i.DRAG_IMAGE\n          });\n        }\n      }, {\n        key: \"stopDragging\",\n        value: function () {\n          this.setState({\n            mode: i.HAND\n          });\n        }\n      }, {\n        key: \"dragImage\",\n        value: function (e) {\n          this.state.mode === i.DRAG_IMAGE && (this.state.eventStore.dragImage(e), this.setState({\n            eventStore: this.state.eventStore\n          }));\n        }\n      }, {\n        key: \"startResizing\",\n        value: function (e) {\n          this.setState({\n            mode: e\n          });\n        }\n      }, {\n        key: \"stopResizing\",\n        value: function () {\n          this.setState({\n            mode: i.HAND\n          });\n        }\n      }, {\n        key: \"resizeImage\",\n        value: function (e) {\n          this.state.mode === i.NW_RESIZE_IMAGE ? (this.state.eventStore.nwResizeImage(e), this.setState({\n            eventStore: this.state.eventStore\n          })) : this.state.mode === i.NE_RESIZE_IMAGE ? (this.state.eventStore.neResizeImage(e), this.setState({\n            eventStore: this.state.eventStore\n          })) : this.state.mode === i.SE_RESIZE_IMAGE ? (this.state.eventStore.seResizeImage(e), this.setState({\n            eventStore: this.state.eventStore\n          })) : this.state.mode === i.SW_RESIZE_IMAGE && (this.state.eventStore.swResizeImage(e), this.setState({\n            eventStore: this.state.eventStore\n          }));\n        }\n      }, {\n        key: \"undo\",\n        value: function () {\n          this.state.eventStore.undo(), this.setState({\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"redo\",\n        value: function () {\n          this.state.eventStore.redo(), this.setState({\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"clear\",\n        value: function () {\n          this.state.eventStore.clear(), this.setState({\n            eventStore: this.state.eventStore\n          });\n        }\n      }, {\n        key: \"render\",\n        value: function () {\n          var e = this,\n              t = {\n            position: \"relative\",\n            width: this.props.width,\n            height: this.props.height\n          },\n              n = Object.assign({}, this.props, this.state);\n          return a.a.createElement(\"div\", {\n            style: t\n          }, a.a.createElement(b, n), a.a.createElement(L, R({\n            ref: function (t) {\n              return e.canvas = t;\n            }\n          }, n)));\n        }\n      }]) && C(n.prototype, r), o && C(n, o), t;\n    }();\n\n    function j(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    M.defaultProps = {\n      events: new p(),\n      eventStore: new c(),\n      width: 400,\n      height: 400,\n      style: {\n        backgroundColor: \"none\"\n      }\n    };\n\n    var z = function () {\n      function e() {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e);\n      }\n\n      var t, n, r;\n      return t = e, r = [{\n        key: \"toSvgData\",\n        value: function (e) {\n          var t = e.outerHTML,\n              n = window.btoa(window.encodeURIComponent(t).replace(/%([0-9A-F]{2})/g, function (e, t) {\n            return String.fromCharCode(window.parseInt(\"0x\" + t));\n          }));\n          return new Promise(function (e) {\n            e(\"data:image/svg+xml;charset=utf-8;base64,\" + n);\n          });\n        }\n      }, {\n        key: \"toPngData\",\n        value: function (t) {\n          return e.toDataUrl(t, \"image/png\");\n        }\n      }, {\n        key: \"toJpegData\",\n        value: function (t) {\n          return e.toDataUrl(t, \"image/jpeg\");\n        }\n      }, {\n        key: \"toDataUrl\",\n        value: function (t, n) {\n          return new Promise(function (r) {\n            e.toSvgData(t).then(function (e) {\n              var i = t.getBoundingClientRect(),\n                  o = i.width,\n                  s = i.height,\n                  a = new window.Image();\n              a.onload = function () {\n                var e = document.createElement(\"canvas\");\n                e.width = o, e.height = s;\n                var t = e.getContext(\"2d\");\n                if (!t) throw new Error(\"got no rendering context\");\n                t.drawImage(a, 0, 0), r(e.toDataURL(n));\n              }, a.src = e;\n            });\n          });\n        }\n      }, {\n        key: \"fromPngImage\",\n        value: function (t) {\n          return e.fromImageUrl(t, \"image/png\");\n        }\n      }, {\n        key: \"fromJpegImage\",\n        value: function (t) {\n          return e.fromImageUrl(t, \"image/jpeg\");\n        }\n      }, {\n        key: \"fromGifImage\",\n        value: function (t) {\n          return e.fromImageUrl(t, \"image/gif\");\n        }\n      }, {\n        key: \"fromImageUrl\",\n        value: function (e, t) {\n          return new Promise(function (n) {\n            var r = new window.Image();\n            r.onload = function () {\n              var e = document.createElement(\"canvas\");\n              e.width = r.width, e.height = r.height;\n              var i = e.getContext(\"2d\");\n              if (!i) throw new Error(\"got no rendering context\");\n              i.drawImage(r, 0, 0), n({\n                width: r.width,\n                height: r.height,\n                dataUrl: e.toDataURL(t)\n              });\n            }, r.crossOrigin = \"anonymous\", r.src = e;\n          });\n        }\n      }], (n = null) && j(t.prototype, n), r && j(t, r), e;\n    }();\n\n    n.d(t, \"Whiteboard\", function () {\n      return M;\n    }), n.d(t, \"EventStream\", function () {\n      return p;\n    }), n.d(t, \"EventStore\", function () {\n      return c;\n    }), n.d(t, \"SvgConverter\", function () {\n      return z;\n    }), n.d(t, \"Constants\", function () {\n      return r;\n    });\n  }]);\n});","map":{"version":3,"sources":["webpack://ReactWhiteboard/webpack/universalModuleDefinition","webpack://ReactWhiteboard/webpack/bootstrap","webpack:/ReactWhiteboard/external \"react\"","webpack://ReactWhiteboard/node_modules/events/events.js","webpack://ReactWhiteboard/src/Constants.js","webpack://ReactWhiteboard/src/EventStream.js","webpack://ReactWhiteboard/src/EventStore.js","webpack://ReactWhiteboard/src/CursorPane.js","webpack://ReactWhiteboard/src/CanvasPane.js","webpack://ReactWhiteboard/src/Whiteboard.js","webpack://ReactWhiteboard/src/SvgConverter.js","webpack://ReactWhiteboard/src/index.js"],"names":["module","define","exports","root","window","i","l","modules","__webpack_require__","Object","enumerable","value","bind","ReflectApply","R","ReflectOwnKeys","concat","warning","console","EventEmitter","get","set","defaultMaxListeners","undefined","this","that","events","doError","args","er","err","listeners","existing","target","listener","prepend","m","w","fired","wrapped","state","list","position","originalListener","spliceOne","key","unwrap","unwrapListeners","emitter","listenerCount","copy","index","ret","MODE","HAND","DRAW_LINE","DRAG_IMAGE","NW_RESIZE_IMAGE","NE_RESIZE_IMAGE","SE_RESIZE_IMAGE","SW_RESIZE_IMAGE","SVG_ELEMENT_TYPE","LINE","IMAGE","EventStream","_classCallCheck","name","on","layer","emit","x","y","width","change","color","point","height","dataUrl","image","move","resizeType","EventStore","EventStore_classCallCheck","selectedLayer","renderableLayers","goodEvents","undoEvents","last","length","type","Constants","reduce","prev","element","forEach","p","push","strokeWidth","strokeColor","values","event","map","filter","_this","lastImage","pop","CursorPane","React","Component","props","dragStart","resizeStart","ev","nativeEvent","offsetX","offsetY","_this2","mode","_this$props$events","startDrawing","eventToPoint","stopDrawing","_this3","_this$props$events2","pushPoint","dragHandle","eventStore","base","unit","Math","ceil","moveX","moveY","dragImage","pageX","pageY","setState","resizeImage","startDragging","stopDragging","preventDefault","stopPropagation","startResizing","stopResizing","cursorLayerStyle","zIndex","borderStyle","borderColor","external_react_default","role","style","onClick","onClickCursorLayer","onMouseMove","onMouseMoveCursorLayer","renderImageHandle","mathMinOrMax","min","max","top","bottom","left","right","dragHandleStyle","cursor","nwResizeHandleStyle","neResizeHandleStyle","seResizeHandleStyle","swResizeHandleStyle","ref","_this4","onClickDragHandle","onClickResizeHandle","CanvasPane","svgElement","canvasLayerStyle","version","xmlns","xmlnsXlink","fill","backgroundColor","drawWhiteboardCanvas","drawImageBorder","reduceEvents","d","join","stroke","xlinkHref","strokeDasharray","Whiteboard","canvas","getSvgElement","setupEventHandler","selectLayer","addLayer","changeStrokeWidth","changeStrokeColor","pasteImage","undo","redo","clear","nwResizeImage","neResizeImage","seResizeImage","swResizeImage","wrapperStyle","assign","CursorPane_CursorPane","CanvasPane_CanvasPane","defaultProps","SvgConverter","sourceNode","htmlText","outerHTML","base64EncodedText","btoa","encodeURIComponent","replace","match","p1","String","fromCharCode","parseInt","Promise","resolve","toDataUrl","imageType","toSvgData","then","svgdata","getBoundingClientRect","imageNode","Image","onload","canvasNode","document","createElement","graphicsContext","getContext","drawImage","Error","toDataURL","src","imageUrl","fromImageUrl","crossOrigin"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactWhiteboard\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactWhiteboard\"] = factory(root[\"react\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","// @flow\n\nexport const MODE = {\n    HAND: 'HAND',\n    DRAW_LINE: 'DRAW_LINE',\n    DRAG_IMAGE: 'DRAG_IMAGE',\n    NW_RESIZE_IMAGE: 'NW_RESIZE_IMAGE',\n    NE_RESIZE_IMAGE: 'NE_RESIZE_IMAGE',\n    SE_RESIZE_IMAGE: 'SE_RESIZE_IMAGE',\n    SW_RESIZE_IMAGE: 'SW_RESIZE_IMAGE'\n}\n\nexport const SVG_ELEMENT_TYPE = {\n    LINE: 'LINE',\n    IMAGE: 'IMAGE'\n}\n\nexport type ModeType =\n    typeof MODE.HAND |\n    typeof MODE.DRAW_LINE |\n    typeof MODE.DRAG_IMAGE |\n    typeof MODE.NW_RESIZE_IMAGE |\n    typeof MODE.NE_RESIZE_IMAGE |\n    typeof MODE.SE_RESIZE_IMAGE |\n    typeof MODE.SW_RESIZE_IMAGE;\n\nexport type ResizeType =\n    typeof MODE.NW_RESIZE_IMAGE |\n    typeof MODE.NE_RESIZE_IMAGE |\n    typeof MODE.SE_RESIZE_IMAGE |\n    typeof MODE.SW_RESIZE_IMAGE;\n","// @flow\n\nimport EventEmitter from 'events'\nimport type {ResizeType} from './Constants'\nimport type {ImageDataType, MoveDataType, PointDataType} from './EventStore'\n\n\ntype listenerType = (any) => void;\n\nexport type StrokeWidthType = {\n    key: 'strokeWidth',\n    value: number\n};\n\nexport type StrokeColorType = {\n    key: 'strokeColor',\n    value: string\n};\n\nexport class EventStream {\n\n    emitter: EventEmitter\n\n    constructor() {\n        this.emitter = new EventEmitter()\n    }\n\n    on(name: string, listener: listenerType) {\n        this.emitter.on(name, listener)\n    }\n\n    selectLayer(layer: number) {\n        this.emitter.emit('selectLayer', layer)\n    }\n\n    addLayer() {\n        this.emitter.emit('addLayer')\n    }\n\n    startDrawing(x: number, y: number) {\n        this.emitter.emit('start', {x: x, y: y})\n    }\n\n    stopDrawing() {\n        this.emitter.emit('stop')\n    }\n\n    changeStrokeWidth(width: number) {\n        const change: StrokeWidthType = {key: 'strokeWidth', value: width}\n        this.emitter.emit('set', change)\n    }\n\n    changeStrokeColor(color: string) {\n        const change: StrokeColorType = {key: 'strokeColor', value: color}\n        this.emitter.emit('set', change)\n    }\n\n    pushPoint(x: number, y: number) {\n        const point: PointDataType = {x: x, y: y}\n        this.emitter.emit('push', point)\n    }\n\n    pasteImage(x: number, y: number, width: number, height: number, dataUrl: string) {\n        const image: ImageDataType = {x: x, y: y, width: width, height: height, dataUrl: dataUrl}\n        this.emitter.emit('paste', image)\n    }\n\n    startDragging() {\n        this.emitter.emit('startDragging')\n    }\n\n    stopDragging() {\n        this.emitter.emit('stopDragging')\n    }\n\n    dragImage(x: number, y: number) {\n        const move: MoveDataType = {x: x, y: y}\n        this.emitter.emit('drag', move)\n    }\n\n    startResizing(resizeType: ResizeType) {\n        this.emitter.emit('startResizing', resizeType)\n    }\n\n    stopResizing() {\n        this.emitter.emit('stopResizing')\n    }\n\n    resizeImage(x: number, y: number) {\n        const move: MoveDataType = {x: x, y: y}\n        this.emitter.emit('resize', move)\n    }\n\n    undo() {\n        this.emitter.emit('undo')\n    }\n\n    redo() {\n        this.emitter.emit('redo')\n    }\n\n    clear() {\n        this.emitter.emit('clear')\n    }\n}\n","// @flow\n\nimport * as Constants from './Constants'\n\n\nexport type PointDataType = {\n    x: number,\n    y: number\n};\n\nexport type ImageDataType = {\n    x?: number,\n    y?: number,\n    width: number,\n    height: number,\n    dataUrl: string\n};\n\nexport type MoveDataType = {\n    x: number,\n    y: number\n};\n\nexport type PointEventType = {\n    type: typeof Constants.SVG_ELEMENT_TYPE.LINE,\n    layer: number,\n    strokeWidth: number,\n    strokeColor: string,\n    point: PointDataType\n};\n\nexport type ImageEventType = {\n    type: typeof Constants.SVG_ELEMENT_TYPE.IMAGE,\n    layer: number,\n    image: ImageDataType\n};\n\nexport type StopEventType = {\n    type?: null\n};\n\nexport type AnyEventType = PointEventType | ImageEventType | StopEventType;\n\nexport type ReducedLineEventType = {\n    type: typeof Constants.SVG_ELEMENT_TYPE.LINE,\n    strokeWidth: number,\n    strokeColor: string,\n    values: Array<PointDataType>\n};\n\nexport type ReducedImageEventType = {\n    type: typeof Constants.SVG_ELEMENT_TYPE.IMAGE,\n    image: ImageDataType\n};\n\nexport type ReducedStopEventType = {\n    type?: null\n};\n\nexport type AnyReducedEventType = ReducedLineEventType | ReducedImageEventType | ReducedStopEventType;\n\nexport class EventStore {\n\n    selectedLayer: number\n    renderableLayers: Array<boolean>\n    goodEvents: Array<AnyEventType>\n    undoEvents: Array<AnyEventType>\n\n    constructor() {\n        this.selectedLayer = 0\n        this.renderableLayers = [true]\n        this.goodEvents = []\n        this.undoEvents = []\n    }\n\n    lastImage(): ?ImageDataType {\n        const last = this.goodEvents[this.goodEvents.length - 1]\n        if (last && last.type === Constants.SVG_ELEMENT_TYPE.IMAGE) {\n            return last.image\n        } else {\n            return null\n        }\n    }\n\n    reduceEvents(): Array<AnyReducedEventType> {\n        return this.goodEvents.reduce((prev: Array<Array<AnyReducedEventType>>, element: AnyEventType): Array<Array<AnyReducedEventType>> => {\n                if (!element.type) {\n                    prev.forEach(p => {\n                        p.push({})\n                    })\n                    return prev\n                }\n\n                if (element.type === Constants.SVG_ELEMENT_TYPE.LINE) {\n                    let last = prev[element.layer][prev[element.layer].length - 1]\n                    if (last && last.type === Constants.SVG_ELEMENT_TYPE.LINE && last.strokeWidth === element.strokeWidth && last.strokeColor === element.strokeColor) {\n                        last.values.push(element.point)\n                    } else {\n                        const event: ReducedLineEventType = {\n                            type: element.type,\n                            strokeWidth: element.strokeWidth,\n                            strokeColor: element.strokeColor,\n                            values: [element.point]\n                        }\n                        prev[element.layer].push(event)\n                    }\n                    return prev\n\n                } else if (element.type === Constants.SVG_ELEMENT_TYPE.IMAGE) {\n                    const event: ReducedImageEventType = {\n                        type: element.type,\n                        image: element.image\n                    }\n                    prev[element.layer].push(event)\n                    return prev\n\n                } else {\n                    return prev\n                }\n\n            }, this.renderableLayers.map(() => [])\n        ).filter((element: Array<AnyReducedEventType>, index: number): boolean => {\n            return this.renderableLayers[index]\n\n        }).reduce((prev: Array<AnyReducedEventType>, element: Array<AnyReducedEventType>): Array<AnyReducedEventType> => {\n                return prev.concat(element)\n\n            }, []\n        ).filter((element: AnyReducedEventType): boolean => {\n            if (element.type === Constants.SVG_ELEMENT_TYPE.LINE) {\n                return element.values.length > 1\n            } else if (element.type === Constants.SVG_ELEMENT_TYPE.IMAGE) {\n                return true\n            } else {\n                return true\n            }\n        })\n    }\n\n    selectLayer(layer: number) {\n        this.goodEvents.push({})\n        this.selectedLayer = layer\n    }\n\n    addLayer() {\n        this.renderableLayers.push(true)\n    }\n\n    startDrawing(strokeWidth: number, strokeColor: string, point: PointDataType) {\n        this.goodEvents.push({\n            type: Constants.SVG_ELEMENT_TYPE.LINE,\n            layer: this.selectedLayer,\n            strokeWidth: strokeWidth,\n            strokeColor: strokeColor,\n            point: point\n        })\n    }\n\n    stopDrawing() {\n        this.goodEvents.push({})\n    }\n\n    pushPoint(strokeWidth: number, strokeColor: string, point: PointDataType) {\n        const event: PointEventType = {\n            type: Constants.SVG_ELEMENT_TYPE.LINE,\n            layer: this.selectedLayer,\n            strokeWidth: strokeWidth,\n            strokeColor: strokeColor,\n            point: point\n        }\n        this.goodEvents.push(event)\n        this.undoEvents = []\n    }\n\n    pasteImage(image: ImageDataType) {\n        const event: ImageEventType = {\n            type: Constants.SVG_ELEMENT_TYPE.IMAGE,\n            layer: this.selectedLayer,\n            image: image\n        }\n        this.goodEvents.push(event)\n        this.undoEvents = []\n    }\n\n    dragImage(move: MoveDataType) {\n        const lastImage = this.lastImage()\n        if (lastImage) {\n            lastImage.x = lastImage.x + move.x\n            lastImage.y = lastImage.y + move.y\n        }\n    }\n\n    nwResizeImage(move: MoveDataType) {\n        const lastImage = this.lastImage()\n        if (lastImage) {\n            lastImage.x = lastImage.x + move.x\n            lastImage.y = lastImage.y + move.y\n            lastImage.width = lastImage.width - move.x\n            lastImage.height = lastImage.height - move.y\n        }\n    }\n\n    neResizeImage(move: MoveDataType) {\n        const lastImage = this.lastImage()\n        if (lastImage) {\n            // lastImage.x = lastImage.x + move.x;\n            lastImage.y = lastImage.y + move.y\n            lastImage.width = lastImage.width + move.x\n            lastImage.height = lastImage.height - move.y\n        }\n    }\n\n    seResizeImage(move: MoveDataType) {\n        const lastImage = this.lastImage()\n        if (lastImage) {\n            // lastImage.x = lastImage.x + move.x;\n            // lastImage.y = lastImage.y + move.y;\n            lastImage.width = lastImage.width + move.x\n            lastImage.height = lastImage.height + move.y\n        }\n    }\n\n    swResizeImage(move: MoveDataType) {\n        const lastImage = this.lastImage()\n        if (lastImage) {\n            lastImage.x = lastImage.x + move.x\n            // lastImage.y = lastImage.y + move.y;\n            lastImage.width = lastImage.width - move.x\n            lastImage.height = lastImage.height + move.y\n        }\n    }\n\n    undo() {\n        if (this.goodEvents.length) {\n            this.undoEvents.push(this.goodEvents.pop()) // {}\n            this.undoEvents.push(this.goodEvents.pop()) // {type: 'line', point: [...], ...} or {type: 'image', image: {...}, ...}\n            this.goodEvents.push({})\n        }\n    }\n\n    redo() {\n        if (this.undoEvents.length) {\n            this.goodEvents.pop()\n            this.goodEvents.push(this.undoEvents.pop()) // {type: 'line', point: [...], ...} or {type: 'image', image: {...}, ...}\n            this.goodEvents.push(this.undoEvents.pop()) // {}\n        }\n    }\n\n    clear() {\n        this.goodEvents = []\n        this.undoEvents = []\n    }\n}\n","// @flow\n\nimport React from 'react'\n\nimport type {ModeType, ResizeType} from './Constants'\nimport * as Constants from './Constants'\nimport {EventStream} from './EventStream'\nimport type {PointDataType} from './EventStore'\nimport {EventStore} from './EventStore'\n\n\ntype propsType = {\n    events: EventStream,\n    eventStore: EventStore,\n    width: number,\n    height: number,\n    mode: ModeType,\n    strokeWidth: number,\n    strokeColor: string\n};\n\ntype stateType = {\n    dragStart: ?PointDataType,\n    resizeStart: ?PointDataType\n};\n\ntype mouseEventType = {\n    nativeEvent: {\n        offsetX: number,\n        offsetY: number\n    }\n} & SyntheticMouseEvent<HTMLDivElement>;\n\nexport class CursorPane extends React.Component<propsType, stateType> {\n\n    props: propsType\n    state: stateType\n\n    dragHandle: ?HTMLElement\n\n    constructor(props: propsType) {\n        super(props)\n\n        this.state = {\n            dragStart: null,\n            resizeStart: null\n        }\n    }\n\n    onClickCursorLayer(ev: mouseEventType) {\n        let eventToPoint = (ev: mouseEventType): Array<number> => {\n            const x = ev.nativeEvent.offsetX - 2\n            const y = ev.nativeEvent.offsetY + (2 * (this.props.strokeWidth / 3))\n            return [x, y]\n        }\n\n        if (this.props.mode === Constants.MODE.HAND) {\n            this.props.events.startDrawing(...eventToPoint(ev))\n        } else {\n            this.props.events.stopDrawing()\n        }\n    }\n\n    onMouseMoveCursorLayer(ev: mouseEventType) {\n        let eventToPoint = (ev: mouseEventType): Array<number> => {\n            const x = ev.nativeEvent.offsetX - 2\n            const y = ev.nativeEvent.offsetY + (2 * (this.props.strokeWidth / 3))\n            return [x, y]\n        }\n\n        if (this.props.mode === Constants.MODE.DRAW_LINE) {\n            this.props.events.pushPoint(...eventToPoint(ev))\n        } else if (this.props.mode === Constants.MODE.DRAG_IMAGE) {\n            if (ev.target !== this.dragHandle) {\n                return\n            }\n\n            const lastImage = this.props.eventStore.lastImage()\n            if (!lastImage) {\n                return\n            }\n\n            if (this.state.dragStart) {\n                const base = (lastImage.width < lastImage.height) ? lastImage.width : lastImage.height\n                const unit = (base / 8) < 20 ? Math.ceil(base / 8) : 20\n\n                const moveX = lastImage.x + unit < 0 ? ev.nativeEvent.offsetX - this.state.dragStart.x - (lastImage.x + unit) : ev.nativeEvent.offsetX - this.state.dragStart.x\n                const moveY = lastImage.y + unit < 0 ? ev.nativeEvent.offsetY - this.state.dragStart.y - (lastImage.y + unit) : ev.nativeEvent.offsetY - this.state.dragStart.y\n\n                this.props.events.dragImage(moveX, moveY)\n            }\n        } else if (this.props.mode === Constants.MODE.NW_RESIZE_IMAGE || this.props.mode === Constants.MODE.NE_RESIZE_IMAGE || this.props.mode === Constants.MODE.SE_RESIZE_IMAGE || this.props.mode === Constants.MODE.SW_RESIZE_IMAGE) {\n            const lastImage = this.props.eventStore.lastImage()\n            if (!lastImage) {\n                return\n            }\n\n            if (this.state.resizeStart) {\n                const moveX = ev.pageX - this.state.resizeStart.x\n                const moveY = ev.pageY - this.state.resizeStart.y\n\n                // do nothing if cannot resize image\n                if (this.props.mode === Constants.MODE.NW_RESIZE_IMAGE && (lastImage.width - moveX < 0 || lastImage.height - moveY < 0)) {\n                    return\n                } else if (this.props.mode === Constants.MODE.NE_RESIZE_IMAGE && (lastImage.width + moveX < 0 || lastImage.height - moveY < 0)) {\n                    return\n                } else if (this.props.mode === Constants.MODE.SE_RESIZE_IMAGE && (lastImage.width + moveX < 0 || lastImage.height + moveY < 0)) {\n                    return\n                } else if (this.props.mode === Constants.MODE.SW_RESIZE_IMAGE && (lastImage.width - moveX < 0 || lastImage.height + moveY < 0)) {\n                    return\n                }\n\n                this.setState({resizeStart: {x: ev.pageX, y: ev.pageY}})\n                this.props.events.resizeImage(moveX, moveY)\n            }\n        }\n    }\n\n    onClickDragHandle(ev: mouseEventType) {\n        if (this.props.mode === Constants.MODE.HAND) {\n            this.setState({dragStart: {x: ev.nativeEvent.offsetX, y: ev.nativeEvent.offsetY}})\n            this.props.events.startDragging()\n        } else {\n            this.setState({dragStart: null})\n            this.props.events.stopDragging()\n        }\n        ev.preventDefault()\n        ev.stopPropagation()\n    }\n\n    onClickResizeHandle(resizeType: ResizeType, ev: mouseEventType) {\n        if (this.props.mode === Constants.MODE.HAND) {\n            this.setState({resizeStart: {x: ev.pageX, y: ev.pageY}})\n            this.props.events.startResizing(resizeType)\n        } else {\n            this.setState({resizeStart: null})\n            this.props.events.stopResizing()\n        }\n        ev.preventDefault()\n        ev.stopPropagation()\n    }\n\n    render() {\n        const cursorLayerStyle = {\n            position: 'absolute',\n            zIndex: 2000,\n            width: this.props.width,\n            height: this.props.height,\n            borderStyle: 'none none solid none',\n            borderColor: this.props.strokeColor\n        }\n\n        return (\n            <div role=\"presentation\" style={cursorLayerStyle}\n                 onClick={this.onClickCursorLayer.bind(this)} onMouseMove={this.onMouseMoveCursorLayer.bind(this)}>\n                {this.renderImageHandle()}\n            </div>\n        )\n    }\n\n    renderImageHandle(): ?Array<React$Element<any>> {\n        const lastImage = this.props.eventStore.lastImage()\n        if (!lastImage) {\n            return null\n        }\n\n        const base = (lastImage.width < lastImage.height) ? lastImage.width : lastImage.height\n        const unit = (base / 8) < 20 ? Math.ceil(base / 8) : 20\n\n        const mathMinOrMax = (min: number, max: number, value: number): number => {\n            if (value < min) {\n                return min\n            } else if (value > max) {\n                return max\n            } else {\n                return value\n            }\n        }\n\n        const top = mathMinOrMax(0, this.props.height, lastImage.y + unit)\n        const bottom = mathMinOrMax(0, this.props.height, lastImage.y + lastImage.height - unit)\n        const left = mathMinOrMax(0, this.props.width, lastImage.x + unit)\n        const right = mathMinOrMax(0, this.props.width, lastImage.x + lastImage.width - unit)\n\n        const dragHandleStyle = {\n            position: 'absolute',\n            zIndex: 2500,\n            top: top,\n            left: left,\n            width: right - left,\n            height: bottom - top,\n            cursor: 'move'\n        }\n\n        const nwResizeHandleStyle = {\n            position: 'absolute',\n            zIndex: 2500,\n            top: mathMinOrMax(0, this.props.height, top - unit),\n            left: mathMinOrMax(0, this.props.width, left - unit),\n            width: left - mathMinOrMax(0, this.props.width, left - unit),\n            height: top - mathMinOrMax(0, this.props.height, top - unit),\n            cursor: 'nw-resize'\n        }\n\n        const neResizeHandleStyle = {\n            position: 'absolute',\n            zIndex: 2500,\n            top: mathMinOrMax(0, this.props.height, top - unit),\n            left: right,\n            width: mathMinOrMax(0, this.props.width, right + unit) - right,\n            height: top - mathMinOrMax(0, this.props.height, top - unit),\n            cursor: 'ne-resize'\n        }\n\n        const seResizeHandleStyle = {\n            position: 'absolute',\n            zIndex: 2500,\n            top: bottom,\n            left: right,\n            width: mathMinOrMax(0, this.props.width, right + unit) - right,\n            height: mathMinOrMax(0, this.props.height, bottom + unit) - bottom,\n            cursor: 'se-resize'\n        }\n\n        const swResizeHandleStyle = {\n            position: 'absolute',\n            zIndex: 2500,\n            top: bottom,\n            left: mathMinOrMax(0, this.props.width, left - unit),\n            width: left - mathMinOrMax(0, this.props.width, left - unit),\n            height: mathMinOrMax(0, this.props.height, bottom + unit) - bottom,\n            cursor: 'sw-resize'\n        }\n\n        return ([\n            <div key=\"drag\" role=\"presentation\" style={dragHandleStyle}\n                 ref={dragHandle => this.dragHandle = dragHandle} onClick={this.onClickDragHandle.bind(this)}/>,\n            <div key=\"nw-resize\" role=\"presentation\" style={nwResizeHandleStyle}\n                 onClick={this.onClickResizeHandle.bind(this, Constants.MODE.NW_RESIZE_IMAGE)}/>,\n            <div key=\"ne-resize\" role=\"presentation\" style={neResizeHandleStyle}\n                 onClick={this.onClickResizeHandle.bind(this, Constants.MODE.NE_RESIZE_IMAGE)}/>,\n            <div key=\"se-resize\" role=\"presentation\" style={seResizeHandleStyle}\n                 onClick={this.onClickResizeHandle.bind(this, Constants.MODE.SE_RESIZE_IMAGE)}/>,\n            <div key=\"sw-resize\" role=\"presentation\" style={swResizeHandleStyle}\n                 onClick={this.onClickResizeHandle.bind(this, Constants.MODE.SW_RESIZE_IMAGE)}/>\n        ])\n    }\n}\n","// @flow\n\nimport React from 'react'\n\nimport * as Constants from './Constants'\nimport type {AnyReducedEventType, ImageDataType, PointDataType} from './EventStore'\nimport {EventStore} from './EventStore'\n\n\ntype propsType = {\n    eventStore: EventStore,\n    width: number,\n    height: number,\n    style: {\n        backgroundColor: string\n    }\n};\n\ntype stateType = {};\n\nexport class CanvasPane extends React.Component<propsType, stateType> {\n\n    props: propsType\n    state: stateType\n\n    svgElement: ?Element\n\n    constructor(props: propsType) {\n        super(props)\n\n        this.svgElement = null\n    }\n\n    getSvgElement(): ?Element {\n        return this.svgElement\n    }\n\n    render() {\n        const canvasLayerStyle = {\n            position: 'absolute',\n            width: this.props.width,\n            height: this.props.height\n        }\n\n        return (\n            <div style={canvasLayerStyle}>\n                <svg ref={element => this.svgElement = element}\n                     version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                     width={this.props.width} height={this.props.height}>\n                    <rect width={'100%'} height={'100%'} fill={this.props.style.backgroundColor}/>\n                    {this.drawWhiteboardCanvas()}\n                    {this.drawImageBorder()}\n                </svg>\n            </div>\n        )\n    }\n\n    drawWhiteboardCanvas(): Array<?React$Element<any>> {\n        return this.props.eventStore.reduceEvents().map((element: AnyReducedEventType, index: number): ?React$Element<any> => {\n            if (element.type === Constants.SVG_ELEMENT_TYPE.LINE) {\n                const key = index\n                const d = element.values.map((point: PointDataType, index: number) => {\n                    if (index === 0) {\n                        return 'M ' + point.x + ' ' + point.y\n                    } else {\n                        return 'L ' + point.x + ' ' + point.y\n                    }\n                })\n\n                return (\n                    <path key={key} d={d.join(' ')} fill=\"none\" stroke={element.strokeColor} strokeWidth={element.strokeWidth}/>\n                )\n\n            } else if (element.type === Constants.SVG_ELEMENT_TYPE.IMAGE) {\n                const key = index\n                const image: ImageDataType = element.image\n\n                return (\n                    <image key={key} x={image.x} y={image.y} width={image.width} height={image.height} xlinkHref={image.dataUrl}/>\n                )\n\n            } else {\n                return null\n            }\n        })\n    }\n\n    drawImageBorder(): ?React$Element<any> {\n        const lastImage = this.props.eventStore.lastImage()\n        if (!lastImage) {\n            return null\n        }\n\n        return (\n            <rect x={lastImage.x} y={lastImage.y} width={lastImage.width} height={lastImage.height}\n                  fill={'none'} stroke={'black'} strokeDasharray={'5,5'}/>\n        )\n    }\n}\n","// @flow\n\nimport React from 'react'\n\nimport type {ModeType, ResizeType} from './Constants'\nimport * as Constants from './Constants'\nimport type {StrokeColorType, StrokeWidthType} from './EventStream'\nimport {EventStream} from './EventStream'\nimport type {ImageDataType, MoveDataType, PointDataType} from './EventStore'\nimport {EventStore} from './EventStore'\nimport {CursorPane} from './CursorPane'\nimport {CanvasPane} from './CanvasPane'\n\n\ntype defaultPropsType = {\n    events: EventStream,\n    eventStore: EventStore,\n    width: number,\n    height: number,\n    style: {\n        backgroundColor: string\n    }\n};\n\ntype propsType = {\n    events: EventStream,\n    eventStore: EventStore,\n    width: number,\n    height: number,\n    style: {\n        backgroundColor: string\n    }\n};\n\ntype stateType = {\n    eventStore: EventStore,\n    mode: ModeType,\n    layer: number,\n    strokeWidth: number,\n    strokeColor: string\n};\n\nexport class Whiteboard extends React.Component<propsType, stateType> {\n\n    static defaultProps: defaultPropsType\n    props: propsType\n    state: stateType\n\n    canvas: ?CanvasPane\n\n    constructor(props: propsType) {\n        super(props)\n\n        this.state = {\n            eventStore: props.eventStore,\n            mode: Constants.MODE.HAND,\n            layer: 0,\n            strokeWidth: 5,\n            strokeColor: 'black'\n        }\n\n        this.canvas = null\n    }\n\n    getSvgElement(): ?Element {\n        if (this.canvas) {\n            return this.canvas.getSvgElement()\n        }\n    }\n\n    componentDidMount() {\n        this.setupEventHandler()\n    }\n\n    setupEventHandler() {\n        this.props.events.on('selectLayer', this.selectLayer.bind(this))\n        this.props.events.on('addLayer', this.addLayer.bind(this))\n\n        this.props.events.on('start', this.startDrawing.bind(this))\n        this.props.events.on('stop', this.stopDrawing.bind(this))\n\n        this.props.events.on('set', (event: StrokeWidthType | StrokeColorType) => {\n            if (event.key === 'strokeWidth') {\n                this.changeStrokeWidth(event.value)\n            }\n            if (event.key === 'strokeColor') {\n                this.changeStrokeColor(event.value)\n            }\n        })\n\n        this.props.events.on('push', this.pushPoint.bind(this))\n\n        this.props.events.on('paste', this.pasteImage.bind(this))\n        this.props.events.on('startDragging', this.startDragging.bind(this))\n        this.props.events.on('stopDragging', this.stopDragging.bind(this))\n        this.props.events.on('drag', this.dragImage.bind(this))\n        this.props.events.on('startResizing', this.startResizing.bind(this))\n        this.props.events.on('stopResizing', this.stopResizing.bind(this))\n        this.props.events.on('resize', this.resizeImage.bind(this))\n\n        this.props.events.on('undo', this.undo.bind(this))\n        this.props.events.on('redo', this.redo.bind(this))\n        this.props.events.on('clear', this.clear.bind(this))\n    }\n\n    selectLayer(layer: number) {\n        this.state.eventStore.selectLayer(layer)\n        this.setState({\n            layer: layer,\n            eventStore: this.state.eventStore\n        })\n    }\n\n    addLayer() {\n        this.state.eventStore.addLayer()\n        this.setState({eventStore: this.state.eventStore})\n    }\n\n    startDrawing(point: PointDataType) {\n        this.state.eventStore.startDrawing(this.state.strokeWidth, this.state.strokeColor, point)\n        this.setState({\n            mode: Constants.MODE.DRAW_LINE,\n            eventStore: this.state.eventStore\n        })\n    }\n\n    stopDrawing() {\n        this.state.eventStore.stopDrawing()\n        this.setState({\n            mode: Constants.MODE.HAND,\n            eventStore: this.state.eventStore\n        })\n    }\n\n    changeStrokeWidth(width: number) {\n        this.state.eventStore.stopDrawing()\n        this.setState({\n            strokeWidth: width,\n            eventStore: this.state.eventStore\n        })\n    }\n\n    changeStrokeColor(color: string) {\n        this.state.eventStore.stopDrawing()\n        this.setState({\n            strokeColor: color,\n            eventStore: this.state.eventStore\n        })\n    }\n\n    pushPoint(point: PointDataType) {\n        this.state.eventStore.pushPoint(this.state.strokeWidth, this.state.strokeColor, point)\n        this.setState({eventStore: this.state.eventStore})\n    }\n\n    pasteImage(image: ImageDataType) {\n        this.state.eventStore.pasteImage(image)\n        this.setState({eventStore: this.state.eventStore})\n    }\n\n    startDragging() {\n        this.setState({mode: Constants.MODE.DRAG_IMAGE})\n    }\n\n    stopDragging() {\n        this.setState({mode: Constants.MODE.HAND})\n    }\n\n    dragImage(move: MoveDataType) {\n        if (this.state.mode !== Constants.MODE.DRAG_IMAGE) {\n            return\n        }\n\n        this.state.eventStore.dragImage(move)\n        this.setState({eventStore: this.state.eventStore})\n    }\n\n    startResizing(resizeType: ResizeType) {\n        this.setState({mode: resizeType})\n    }\n\n    stopResizing() {\n        this.setState({mode: Constants.MODE.HAND})\n    }\n\n    resizeImage(move: MoveDataType) {\n        if (this.state.mode === Constants.MODE.NW_RESIZE_IMAGE) {\n            this.state.eventStore.nwResizeImage(move)\n            this.setState({eventStore: this.state.eventStore})\n        } else if (this.state.mode === Constants.MODE.NE_RESIZE_IMAGE) {\n            this.state.eventStore.neResizeImage(move)\n            this.setState({\n                eventStore: this.state.eventStore\n            })\n        } else if (this.state.mode === Constants.MODE.SE_RESIZE_IMAGE) {\n            this.state.eventStore.seResizeImage(move)\n            this.setState({\n                eventStore: this.state.eventStore\n            })\n        } else if (this.state.mode === Constants.MODE.SW_RESIZE_IMAGE) {\n            this.state.eventStore.swResizeImage(move)\n            this.setState({eventStore: this.state.eventStore})\n        }\n    }\n\n    undo() {\n        this.state.eventStore.undo()\n        this.setState({eventStore: this.state.eventStore})\n    }\n\n    redo() {\n        this.state.eventStore.redo()\n        this.setState({eventStore: this.state.eventStore})\n    }\n\n    clear() {\n        this.state.eventStore.clear()\n        this.setState({eventStore: this.state.eventStore})\n    }\n\n    render() {\n        const wrapperStyle = {\n            position: 'relative',\n            width: this.props.width,\n            height: this.props.height\n        }\n\n        const props = Object.assign({}, this.props, this.state)\n\n        return (\n            <div style={wrapperStyle}>\n                <CursorPane {...props}/>\n                <CanvasPane ref={canvas => this.canvas = canvas} {...props}/>\n            </div>\n        )\n    }\n}\n\nWhiteboard.defaultProps = {\n    events: new EventStream(),\n    eventStore: new EventStore(),\n    width: 400,\n    height: 400,\n    style: {\n        backgroundColor: 'none'\n    }\n}\n","// @flow\n\nimport type {ImageDataType} from './EventStore'\n\n\nexport class SvgConverter {\n\n    static toSvgData(sourceNode: HTMLElement): Promise<string> {\n        let htmlText = sourceNode.outerHTML\n        let base64EncodedText = window.btoa(\n            window.encodeURIComponent(htmlText)\n                .replace(/%([0-9A-F]{2})/g, (match: string, p1: string): string => String.fromCharCode(window.parseInt('0x' + p1))))\n\n        return new Promise(resolve => {\n            resolve('data:image/svg+xml;charset=utf-8;base64,' + base64EncodedText)\n        })\n    }\n\n    static toPngData(sourceNode: HTMLElement): Promise<string> {\n        return SvgConverter.toDataUrl(sourceNode, 'image/png')\n    }\n\n    static toJpegData(sourceNode: HTMLElement): Promise<string> {\n        return SvgConverter.toDataUrl(sourceNode, 'image/jpeg')\n    }\n\n    static toDataUrl(sourceNode: HTMLElement, imageType: string): Promise<string> {\n        return new Promise(resolve => {\n            SvgConverter.toSvgData(sourceNode).then((svgdata: string) => {\n                let {width, height} = sourceNode.getBoundingClientRect()\n\n                let imageNode = new window.Image()\n                imageNode.onload = () => {\n                    let canvasNode = document.createElement('canvas')\n                    canvasNode.width = width\n                    canvasNode.height = height\n\n                    let graphicsContext = canvasNode.getContext('2d')\n                    if (graphicsContext) {\n                        graphicsContext.drawImage(imageNode, 0, 0)\n                    } else {\n                        throw new Error('got no rendering context')\n                    }\n\n                    resolve(canvasNode.toDataURL(imageType))\n                }\n                imageNode.src = svgdata\n            })\n        })\n    }\n\n    static fromPngImage(imageUrl: string): Promise<ImageDataType> {\n        return SvgConverter.fromImageUrl(imageUrl, 'image/png')\n    }\n\n    static fromJpegImage(imageUrl: string): Promise<ImageDataType> {\n        return SvgConverter.fromImageUrl(imageUrl, 'image/jpeg')\n    }\n\n    static fromGifImage(imageUrl: string): Promise<ImageDataType> {\n        return SvgConverter.fromImageUrl(imageUrl, 'image/gif')\n    }\n\n    static fromImageUrl(imageUrl: string, imageType: string): Promise<ImageDataType> {\n        return new Promise(resolve => {\n            let imageNode = new window.Image()\n            imageNode.onload = () => {\n                let canvasNode = document.createElement('canvas')\n                canvasNode.width = imageNode.width\n                canvasNode.height = imageNode.height\n\n                let graphicsContext = canvasNode.getContext('2d')\n                if (graphicsContext) {\n                    graphicsContext.drawImage(imageNode, 0, 0)\n                } else {\n                    throw new Error('got no rendering context')\n                }\n\n                resolve({width: imageNode.width, height: imageNode.height, dataUrl: canvasNode.toDataURL(imageType)})\n            }\n            imageNode.crossOrigin = 'anonymous'\n            imageNode.src = imageUrl\n        })\n    }\n}\n","// @flow\n\nimport * as Constants from './Constants'\n\nexport {Whiteboard} from './Whiteboard'\nexport {EventStream} from './EventStream'\nexport {EventStore} from './EventStore'\nexport {SvgConverter} from './SvgConverter'\nexport {Constants}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}