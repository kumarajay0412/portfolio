{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ajay/Documents/Portfolio/portfolio/src/components/three.js\";\nimport React from 'react';\nexport default function three() {\n  window.onload = init;\n\n  function init() {\n    var root = new THREERoot({\n      createCameraControls: !true,\n      antialias: window.devicePixelRatio === 1,\n      fov: 60\n    });\n    root.renderer.setClearColor(0x000000);\n    root.renderer.setPixelRatio(window.devicePixelRatio || 1);\n    root.camera.position.set(0, 0, 600);\n    var textAnimation = createTextAnimation();\n    root.scene.add(textAnimation);\n    var light = new THREE.DirectionalLight();\n    light.position.set(0, 0, 1);\n    root.scene.add(light);\n    var tl = new TimelineMax({\n      repeat: -1,\n      repeatDelay: 0.5,\n      yoyo: true\n    });\n    tl.fromTo(textAnimation, 4, {\n      animationProgress: 0.0\n    }, {\n      animationProgress: 0.6,\n      ease: Power1.easeInOut\n    }, 0);\n    tl.fromTo(textAnimation.rotation, 4, {\n      y: 0\n    }, {\n      y: Math.PI * 2,\n      ease: Power1.easeInOut\n    }, 0);\n    createTweenScrubber(tl);\n  }\n\n  function createTextAnimation() {\n    var geometry = generateTextGeometry('AS THE WORLD TURNS', {\n      size: 40,\n      height: 12,\n      font: 'droid sans',\n      weight: 'bold',\n      style: 'normal',\n      curveSegments: 24,\n      bevelSize: 2,\n      bevelThickness: 2,\n      bevelEnabled: true,\n      anchor: {\n        x: 0.5,\n        y: 0.5,\n        z: 0.0\n      }\n    });\n    THREE.BAS.Utils.tessellateRepeat(geometry, 1.0, 2);\n    THREE.BAS.Utils.separateFaces(geometry);\n    return new TextAnimation(geometry);\n  }\n\n  function generateTextGeometry(text, params) {\n    var geometry = new THREE.TextGeometry(text, params);\n    geometry.computeBoundingBox();\n    var size = geometry.boundingBox.size();\n    var anchorX = size.x * -params.anchor.x;\n    var anchorY = size.y * -params.anchor.y;\n    var anchorZ = size.z * -params.anchor.z;\n    var matrix = new THREE.Matrix4().makeTranslation(anchorX, anchorY, anchorZ);\n    geometry.applyMatrix(matrix);\n    return geometry;\n  } ////////////////////\n  // CLASSES\n  ////////////////////\n\n\n  function TextAnimation(textGeometry) {\n    var bufferGeometry = new THREE.BAS.ModelBufferGeometry(textGeometry);\n    var aAnimation = bufferGeometry.createAttribute('aAnimation', 2);\n    var aEndPosition = bufferGeometry.createAttribute('aEndPosition', 3);\n    var aAxisAngle = bufferGeometry.createAttribute('aAxisAngle', 4);\n    var faceCount = bufferGeometry.faceCount;\n    var i, i2, i3, i4, v;\n    var maxDelay = 0.0;\n    var minDuration = 1.0;\n    var maxDuration = 1.0;\n    var stretch = 0.05;\n    var lengthFactor = 0.001;\n    var maxLength = textGeometry.boundingBox.max.length();\n    this.animationDuration = maxDuration + maxDelay + stretch + lengthFactor * maxLength;\n    this._animationProgress = 0;\n    var axis = new THREE.Vector3();\n    var angle;\n\n    for (i = 0, i2 = 0, i3 = 0, i4 = 0; i < faceCount; i++, i2 += 6, i3 += 9, i4 += 12) {\n      var face = textGeometry.faces[i];\n      var centroid = THREE.BAS.Utils.computeCentroid(textGeometry, face);\n      var centroidN = new THREE.Vector3().copy(centroid).normalize(); // animation\n\n      var delay = (maxLength - centroid.length()) * lengthFactor;\n      var duration = THREE.Math.randFloat(minDuration, maxDuration);\n\n      for (v = 0; v < 6; v += 2) {\n        aAnimation.array[i2 + v] = delay + stretch * Math.random();\n        aAnimation.array[i2 + v + 1] = duration;\n      } // end position\n\n\n      var point = utils.fibSpherePoint(i, faceCount, 200);\n\n      for (v = 0; v < 9; v += 3) {\n        aEndPosition.array[i3 + v] = point.x;\n        aEndPosition.array[i3 + v + 1] = point.y;\n        aEndPosition.array[i3 + v + 2] = point.z;\n      } // axis angle\n\n\n      axis.x = centroidN.x;\n      axis.y = -centroidN.y;\n      axis.z = -centroidN.z;\n      axis.normalize();\n      angle = Math.PI * THREE.Math.randFloat(0.5, 2.0);\n\n      for (v = 0; v < 12; v += 4) {\n        aAxisAngle.array[i4 + v] = axis.x;\n        aAxisAngle.array[i4 + v + 1] = axis.y;\n        aAxisAngle.array[i4 + v + 2] = axis.z;\n        aAxisAngle.array[i4 + v + 3] = angle;\n      }\n    }\n\n    var material = new THREE.BAS.PhongAnimationMaterial({\n      shading: THREE.FlatShading,\n      side: THREE.DoubleSide,\n      transparent: true,\n      uniforms: {\n        uTime: {\n          type: 'f',\n          value: 0\n        }\n      },\n      shaderFunctions: [THREE.BAS.ShaderChunk['cubic_bezier'], THREE.BAS.ShaderChunk['ease_out_cubic'], THREE.BAS.ShaderChunk['quaternion_rotation']],\n      shaderParameters: ['uniform float uTime;', 'uniform vec3 uAxis;', 'uniform float uAngle;', 'attribute vec2 aAnimation;', 'attribute vec3 aEndPosition;', 'attribute vec4 aAxisAngle;'],\n      shaderVertexInit: ['float tDelay = aAnimation.x;', 'float tDuration = aAnimation.y;', 'float tTime = clamp(uTime - tDelay, 0.0, tDuration);', 'float tProgress = ease(tTime, 0.0, 1.0, tDuration);' // 'float tProgress = tTime / tDuration;'\n      ],\n      shaderTransformPosition: ['transformed = mix(transformed, aEndPosition, tProgress);', 'float angle = aAxisAngle.w * tProgress;', 'vec4 tQuat = quatFromAxisAngle(aAxisAngle.xyz, angle);', 'transformed = rotateVector(tQuat, transformed);']\n    }, {\n      diffuse: 0x444444,\n      specular: 0xcccccc,\n      shininess: 4 //emissive:0xffffff\n\n    });\n    THREE.Mesh.call(this, bufferGeometry, material);\n    this.frustumCulled = false;\n  }\n\n  TextAnimation.prototype = Object.create(THREE.Mesh.prototype);\n  TextAnimation.prototype.constructor = TextAnimation;\n  Object.defineProperty(TextAnimation.prototype, 'animationProgress', {\n    get: function () {\n      return this._animationProgress;\n    },\n    set: function (v) {\n      this._animationProgress = v;\n      this.material.uniforms['uTime'].value = this.animationDuration * v;\n    }\n  });\n\n  function THREERoot(params) {\n    params = utils.extend({\n      fov: 60,\n      zNear: 10,\n      zFar: 100000,\n      createCameraControls: true\n    }, params);\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: params.antialias\n    });\n    this.renderer.setPixelRatio(Math.min(2, window.devicePixelRatio || 1));\n    document.getElementById('three-container').appendChild(this.renderer.domElement);\n    this.camera = new THREE.PerspectiveCamera(params.fov, window.innerWidth / window.innerHeight, params.zNear, params.zfar);\n    this.scene = new THREE.Scene();\n\n    if (params.createCameraControls) {\n      this.controls = new THREE.OrbitControls(this.camera, this.renderer.domElement);\n    }\n\n    this.resize = this.resize.bind(this);\n    this.tick = this.tick.bind(this);\n    this.resize();\n    this.tick();\n    window.addEventListener('resize', this.resize, false);\n  }\n\n  THREERoot.prototype = {\n    tick: function () {\n      this.update();\n      this.render();\n      requestAnimationFrame(this.tick);\n    },\n    update: function () {\n      this.controls && this.controls.update();\n    },\n    render: function () {\n      this.renderer.render(this.scene, this.camera);\n    },\n    resize: function () {\n      this.camera.aspect = window.innerWidth / window.innerHeight;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n  }; ////////////////////\n  // UTILS\n  ////////////////////\n\n  var utils = {\n    extend: function (dst, src) {\n      for (var key in src) {\n        dst[key] = src[key];\n      }\n\n      return dst;\n    },\n    randSign: function () {\n      return Math.random() > 0.5 ? 1 : -1;\n    },\n    ease: function (ease, t, b, c, d) {\n      return b + ease.getRatio(t / d) * c;\n    },\n    // mapEase:function(ease, v, x1, y1, x2, y2) {\n    //   var t = v;\n    //   var b = x2;\n    //   var c = y2 - x2;\n    //   var d = y1 - x1;\n    //\n    //   return utils.ease(ease, t, b, c, d);\n    // },\n    fibSpherePoint: function () {\n      var v = {\n        x: 0,\n        y: 0,\n        z: 0\n      };\n      var G = Math.PI * (3 - Math.sqrt(5));\n      return function (i, n, radius) {\n        var step = 2.0 / n;\n        var r, phi;\n        v.y = i * step - 1 + step * 0.5;\n        r = Math.sqrt(1 - v.y * v.y);\n        phi = i * G;\n        v.x = Math.cos(phi) * r;\n        v.z = Math.sin(phi) * r;\n        radius = radius || 1;\n        v.x *= radius;\n        v.y *= radius;\n        v.z *= radius;\n        return v;\n      };\n    }()\n  };\n\n  function createTweenScrubber(tween, seekSpeed) {\n    seekSpeed = seekSpeed || 0.001;\n\n    function stop() {\n      TweenMax.to(tween, 1, {\n        timeScale: 0\n      });\n    }\n\n    function resume() {\n      TweenMax.to(tween, 1, {\n        timeScale: 1\n      });\n    }\n\n    function seek(dx) {\n      var progress = tween.progress();\n      var p = THREE.Math.clamp(progress + dx * seekSpeed, 0, 1);\n      tween.progress(p);\n    }\n\n    var _cx = 0; // desktop\n\n    var mouseDown = false;\n    document.body.style.cursor = 'pointer';\n    window.addEventListener('mousedown', function (e) {\n      mouseDown = true;\n      document.body.style.cursor = 'ew-resize';\n      _cx = e.clientX;\n      stop();\n    });\n    window.addEventListener('mouseup', function (e) {\n      mouseDown = false;\n      document.body.style.cursor = 'pointer';\n      resume();\n    });\n    window.addEventListener('mousemove', function (e) {\n      if (mouseDown === true) {\n        var cx = e.clientX;\n        var dx = cx - _cx;\n        _cx = cx;\n        seek(dx);\n      }\n    }); // mobile\n\n    window.addEventListener('touchstart', function (e) {\n      _cx = e.touches[0].clientX;\n      stop();\n      e.preventDefault();\n    });\n    window.addEventListener('touchend', function (e) {\n      resume();\n      e.preventDefault();\n    });\n    window.addEventListener('touchmove', function (e) {\n      var cx = e.touches[0].clientX;\n      var dx = cx - _cx;\n      _cx = cx;\n      seek(dx);\n      e.preventDefault();\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"three-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"instructions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 395,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["/Users/ajay/Documents/Portfolio/portfolio/src/components/three.js"],"names":["React","three","window","onload","init","root","THREERoot","createCameraControls","antialias","devicePixelRatio","fov","renderer","setClearColor","setPixelRatio","camera","position","set","textAnimation","createTextAnimation","scene","add","light","THREE","DirectionalLight","tl","TimelineMax","repeat","repeatDelay","yoyo","fromTo","animationProgress","ease","Power1","easeInOut","rotation","y","Math","PI","createTweenScrubber","geometry","generateTextGeometry","size","height","font","weight","style","curveSegments","bevelSize","bevelThickness","bevelEnabled","anchor","x","z","BAS","Utils","tessellateRepeat","separateFaces","TextAnimation","text","params","TextGeometry","computeBoundingBox","boundingBox","anchorX","anchorY","anchorZ","matrix","Matrix4","makeTranslation","applyMatrix","textGeometry","bufferGeometry","ModelBufferGeometry","aAnimation","createAttribute","aEndPosition","aAxisAngle","faceCount","i","i2","i3","i4","v","maxDelay","minDuration","maxDuration","stretch","lengthFactor","maxLength","max","length","animationDuration","_animationProgress","axis","Vector3","angle","face","faces","centroid","computeCentroid","centroidN","copy","normalize","delay","duration","randFloat","array","random","point","utils","fibSpherePoint","material","PhongAnimationMaterial","shading","FlatShading","side","DoubleSide","transparent","uniforms","uTime","type","value","shaderFunctions","ShaderChunk","shaderParameters","shaderVertexInit","shaderTransformPosition","diffuse","specular","shininess","Mesh","call","frustumCulled","prototype","Object","create","constructor","defineProperty","get","extend","zNear","zFar","WebGLRenderer","min","document","getElementById","appendChild","domElement","PerspectiveCamera","innerWidth","innerHeight","zfar","Scene","controls","OrbitControls","resize","bind","tick","addEventListener","update","render","requestAnimationFrame","aspect","updateProjectionMatrix","setSize","dst","src","key","randSign","t","b","c","d","getRatio","G","sqrt","n","radius","step","r","phi","cos","sin","tween","seekSpeed","stop","TweenMax","to","timeScale","resume","seek","dx","progress","p","clamp","_cx","mouseDown","body","cursor","e","clientX","cx","touches","preventDefault"],"mappings":"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","sourcesContent":["import React from 'react'\n\nexport default function three() {\n    window.onload = init;\n\nfunction init() {\n  var root = new THREERoot({\n    createCameraControls: !true,\n    antialias: (window.devicePixelRatio === 1),\n    fov: 60\n  });\n\n  root.renderer.setClearColor(0x000000);\n  root.renderer.setPixelRatio(window.devicePixelRatio || 1);\n  root.camera.position.set(0, 0, 600);\n\n  var textAnimation = createTextAnimation();\n  root.scene.add(textAnimation);\n\n  var light = new THREE.DirectionalLight();\n  light.position.set(0, 0, 1);\n  root.scene.add(light);\n\n  var tl = new TimelineMax({\n    repeat: -1,\n    repeatDelay: 0.5,\n    yoyo: true\n  });\n  tl.fromTo(textAnimation, 4, {\n      animationProgress: 0.0\n    }, {\n      animationProgress: 0.6,\n      ease: Power1.easeInOut\n    },\n    0\n  );\n  tl.fromTo(textAnimation.rotation, 4, {\n    y: 0\n  }, {\n    y: Math.PI * 2,\n    ease: Power1.easeInOut\n  }, 0);\n\n  createTweenScrubber(tl);\n}\n\nfunction createTextAnimation() {\n  var geometry = generateTextGeometry('AS THE WORLD TURNS', {\n    size: 40,\n    height: 12,\n    font: 'droid sans',\n    weight: 'bold',\n    style: 'normal',\n    curveSegments: 24,\n    bevelSize: 2,\n    bevelThickness: 2,\n    bevelEnabled: true,\n    anchor: {\n      x: 0.5,\n      y: 0.5,\n      z: 0.0\n    }\n  });\n\n  THREE.BAS.Utils.tessellateRepeat(geometry, 1.0, 2);\n\n  THREE.BAS.Utils.separateFaces(geometry);\n\n  return new TextAnimation(geometry);\n}\n\nfunction generateTextGeometry(text, params) {\n  var geometry = new THREE.TextGeometry(text, params);\n\n  geometry.computeBoundingBox();\n\n  var size = geometry.boundingBox.size();\n  var anchorX = size.x * -params.anchor.x;\n  var anchorY = size.y * -params.anchor.y;\n  var anchorZ = size.z * -params.anchor.z;\n  var matrix = new THREE.Matrix4().makeTranslation(anchorX, anchorY, anchorZ);\n\n  geometry.applyMatrix(matrix);\n\n  return geometry;\n}\n\n////////////////////\n// CLASSES\n////////////////////\n\nfunction TextAnimation(textGeometry) {\n  var bufferGeometry = new THREE.BAS.ModelBufferGeometry(textGeometry);\n\n  var aAnimation = bufferGeometry.createAttribute('aAnimation', 2);\n  var aEndPosition = bufferGeometry.createAttribute('aEndPosition', 3);\n  var aAxisAngle = bufferGeometry.createAttribute('aAxisAngle', 4);\n\n  var faceCount = bufferGeometry.faceCount;\n  var i, i2, i3, i4, v;\n\n  var maxDelay = 0.0;\n  var minDuration = 1.0;\n  var maxDuration = 1.0;\n  var stretch = 0.05;\n  var lengthFactor = 0.001;\n  var maxLength = textGeometry.boundingBox.max.length();\n\n  this.animationDuration = maxDuration + maxDelay + stretch + lengthFactor * maxLength;\n  this._animationProgress = 0;\n\n  var axis = new THREE.Vector3();\n  var angle;\n\n  for (i = 0, i2 = 0, i3 = 0, i4 = 0; i < faceCount; i++, i2 += 6, i3 += 9, i4 += 12) {\n    var face = textGeometry.faces[i];\n    var centroid = THREE.BAS.Utils.computeCentroid(textGeometry, face);\n    var centroidN = new THREE.Vector3().copy(centroid).normalize();\n\n    // animation\n    var delay = (maxLength - centroid.length()) * lengthFactor;\n    var duration = THREE.Math.randFloat(minDuration, maxDuration);\n\n    for (v = 0; v < 6; v += 2) {\n      aAnimation.array[i2 + v] = delay + stretch * Math.random();\n      aAnimation.array[i2 + v + 1] = duration;\n    }\n\n    // end position\n    var point = utils.fibSpherePoint(i, faceCount, 200);\n\n    for (v = 0; v < 9; v += 3) {\n      aEndPosition.array[i3 + v] = point.x;\n      aEndPosition.array[i3 + v + 1] = point.y;\n      aEndPosition.array[i3 + v + 2] = point.z;\n    }\n\n    // axis angle\n    axis.x = centroidN.x;\n    axis.y = -centroidN.y;\n    axis.z = -centroidN.z;\n\n    axis.normalize();\n\n    angle = Math.PI * THREE.Math.randFloat(0.5, 2.0);\n\n    for (v = 0; v < 12; v += 4) {\n      aAxisAngle.array[i4 + v] = axis.x;\n      aAxisAngle.array[i4 + v + 1] = axis.y;\n      aAxisAngle.array[i4 + v + 2] = axis.z;\n      aAxisAngle.array[i4 + v + 3] = angle;\n    }\n  }\n\n  var material = new THREE.BAS.PhongAnimationMaterial({\n    shading: THREE.FlatShading,\n    side: THREE.DoubleSide,\n    transparent: true,\n    uniforms: {\n      uTime: {\n        type: 'f',\n        value: 0\n      }\n    },\n    shaderFunctions: [\n      THREE.BAS.ShaderChunk['cubic_bezier'],\n      THREE.BAS.ShaderChunk['ease_out_cubic'],\n      THREE.BAS.ShaderChunk['quaternion_rotation']\n    ],\n    shaderParameters: [\n      'uniform float uTime;',\n      'uniform vec3 uAxis;',\n      'uniform float uAngle;',\n      'attribute vec2 aAnimation;',\n      'attribute vec3 aEndPosition;',\n      'attribute vec4 aAxisAngle;'\n    ],\n    shaderVertexInit: [\n      'float tDelay = aAnimation.x;',\n      'float tDuration = aAnimation.y;',\n      'float tTime = clamp(uTime - tDelay, 0.0, tDuration);',\n      'float tProgress = ease(tTime, 0.0, 1.0, tDuration);'\n      // 'float tProgress = tTime / tDuration;'\n    ],\n    shaderTransformPosition: [\n      'transformed = mix(transformed, aEndPosition, tProgress);',\n\n      'float angle = aAxisAngle.w * tProgress;',\n      'vec4 tQuat = quatFromAxisAngle(aAxisAngle.xyz, angle);',\n      'transformed = rotateVector(tQuat, transformed);',\n    ]\n  }, {\n    diffuse: 0x444444,\n    specular: 0xcccccc,\n    shininess: 4\n      //emissive:0xffffff\n  });\n\n  THREE.Mesh.call(this, bufferGeometry, material);\n\n  this.frustumCulled = false;\n}\nTextAnimation.prototype = Object.create(THREE.Mesh.prototype);\nTextAnimation.prototype.constructor = TextAnimation;\n\nObject.defineProperty(TextAnimation.prototype, 'animationProgress', {\n  get: function() {\n    return this._animationProgress;\n  },\n  set: function(v) {\n    this._animationProgress = v;\n    this.material.uniforms['uTime'].value = this.animationDuration * v;\n  }\n});\n\nfunction THREERoot(params) {\n  params = utils.extend({\n    fov: 60,\n    zNear: 10,\n    zFar: 100000,\n\n    createCameraControls: true\n  }, params);\n\n  this.renderer = new THREE.WebGLRenderer({\n    antialias: params.antialias\n  });\n  this.renderer.setPixelRatio(Math.min(2, window.devicePixelRatio || 1));\n  document.getElementById('three-container').appendChild(this.renderer.domElement);\n\n  this.camera = new THREE.PerspectiveCamera(\n    params.fov,\n    window.innerWidth / window.innerHeight,\n    params.zNear,\n    params.zfar\n  );\n\n  this.scene = new THREE.Scene();\n\n  if (params.createCameraControls) {\n    this.controls = new THREE.OrbitControls(this.camera, this.renderer.domElement);\n  }\n\n  this.resize = this.resize.bind(this);\n  this.tick = this.tick.bind(this);\n\n  this.resize();\n  this.tick();\n\n  window.addEventListener('resize', this.resize, false);\n}\nTHREERoot.prototype = {\n  tick: function() {\n    this.update();\n    this.render();\n    requestAnimationFrame(this.tick);\n  },\n  update: function() {\n    this.controls && this.controls.update();\n  },\n  render: function() {\n    this.renderer.render(this.scene, this.camera);\n  },\n  resize: function() {\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n};\n\n////////////////////\n// UTILS\n////////////////////\n\nvar utils = {\n  extend: function(dst, src) {\n    for (var key in src) {\n      dst[key] = src[key];\n    }\n\n    return dst;\n  },\n  randSign: function() {\n    return Math.random() > 0.5 ? 1 : -1;\n  },\n  ease: function(ease, t, b, c, d) {\n    return b + ease.getRatio(t / d) * c;\n  },\n  // mapEase:function(ease, v, x1, y1, x2, y2) {\n  //   var t = v;\n  //   var b = x2;\n  //   var c = y2 - x2;\n  //   var d = y1 - x1;\n  //\n  //   return utils.ease(ease, t, b, c, d);\n  // },\n  fibSpherePoint: (function() {\n    var v = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n    var G = Math.PI * (3 - Math.sqrt(5));\n\n    return function(i, n, radius) {\n      var step = 2.0 / n;\n      var r, phi;\n\n      v.y = i * step - 1 + (step * 0.5);\n      r = Math.sqrt(1 - v.y * v.y);\n      phi = i * G;\n      v.x = Math.cos(phi) * r;\n      v.z = Math.sin(phi) * r;\n\n      radius = radius || 1;\n\n      v.x *= radius;\n      v.y *= radius;\n      v.z *= radius;\n\n      return v;\n    }\n  })()\n};\n\nfunction createTweenScrubber(tween, seekSpeed) {\n  seekSpeed = seekSpeed || 0.001;\n\n  function stop() {\n    TweenMax.to(tween, 1, {\n      timeScale: 0\n    });\n  }\n\n  function resume() {\n    TweenMax.to(tween, 1, {\n      timeScale: 1\n    });\n  }\n\n  function seek(dx) {\n    var progress = tween.progress();\n    var p = THREE.Math.clamp((progress + (dx * seekSpeed)), 0, 1);\n\n    tween.progress(p);\n  }\n\n  var _cx = 0;\n\n  // desktop\n  var mouseDown = false;\n  document.body.style.cursor = 'pointer';\n\n  window.addEventListener('mousedown', function(e) {\n    mouseDown = true;\n    document.body.style.cursor = 'ew-resize';\n    _cx = e.clientX;\n    stop();\n  });\n  window.addEventListener('mouseup', function(e) {\n    mouseDown = false;\n    document.body.style.cursor = 'pointer';\n    resume();\n  });\n  window.addEventListener('mousemove', function(e) {\n    if (mouseDown === true) {\n      var cx = e.clientX;\n      var dx = cx - _cx;\n      _cx = cx;\n\n      seek(dx);\n    }\n  });\n  // mobile\n  window.addEventListener('touchstart', function(e) {\n    _cx = e.touches[0].clientX;\n    stop();\n    e.preventDefault();\n  });\n  window.addEventListener('touchend', function(e) {\n    resume();\n    e.preventDefault();\n  });\n  window.addEventListener('touchmove', function(e) {\n    var cx = e.touches[0].clientX;\n    var dx = cx - _cx;\n    _cx = cx;\n\n    seek(dx);\n    e.preventDefault();\n  });\n}\n    return (\n        <div>\n            <div id=\"three-container\"></div>\n\n<div id=\"instructions\">\n\n</div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}